#include<bits/stdc++.h>
using namespace std;
int main(){
ios::sync_with_stdio(false);
cin.tie(nullptr);
int n;
cin>>n;
vector<int> nums(n);
long long total =0;
for(int i=0;i<n;i++){
    cin>>nums[i];
    total+=nums[i];
}
vector<vector<int>> dp(n,vector<int>(n));
for (int i = 0; i < n; i++) {
        dp[i][i] = nums[i];
    }
for (int len = 2; len <= n; len++) {
        for (int l = 0; l + len - 1 < n; l++) {
            int r = l + len - 1;
            dp[l][r] = max(
                nums[l] - dp[l + 1][r],
                nums[r] - dp[l][r - 1]
            );
        }
    }
    long long first = (total + dp[0][n - 1]) / 2;
    cout << first << "\n"; 
 return 0;
}